#Include	"Libs/Zrx/ModeLibs/FlagRush/FlagRush_Teams.Script.txt" as FlagRush_Teams

#Const C_FlagMarkerHeightIndicatorThreshold	8.

/**
 *	Common Functions to embed in multiple manialink
 */
 Text GetTeamColorNetreadFunctions() {
	return """
			Vec3 GetTeamPrimaryColor(CTeam Team) {
				if (Team == Null) return {{{FlagRush_Teams::C_DefaultNeutralColor}}};
				declare netread Vec3 Net_FlagRush_PrimaryColor for Team;
				return Net_FlagRush_PrimaryColor;
			}

			Vec3 GetTeamPrimaryColor(Integer Clan) {
				if (Clan <= 0 || Clan > Teams.count) return {{{FlagRush_Teams::C_DefaultNeutralColor}}};
				return GetTeamPrimaryColor(Teams[Clan-1]);
			}
""";
}

Text GetUtilFunctions() {
	return """
		CSmPlayer GetPlayer(Text Login) {
			foreach (Player in Players) if (Player.User.Login == Login) return Player;
			return Null;
		}
	""";
}